"use strict";(self.webpackChunkproper_code=self.webpackChunkproper_code||[]).push([[9634],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>g});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},s=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(r),m=a,g=p["".concat(c,".").concat(m)]||p[m]||d[m]||o;return r?n.createElement(g,i(i({ref:t},s),{},{components:r})):n.createElement(g,i({ref:t},s))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},3648:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const o={title:"Day 8: Memory Maneuver",tags:["Challenges","Advent","C#"]},i=void 0,l={permalink:"/2018/12/08/advent2018-08",source:"@site/blog/2018/12-08-advent2018-08.md",title:"Day 8: Memory Maneuver",description:"First problem where I used recursion. Traversing trees is just so much easier with recursion.",date:"2018-12-08T00:00:00.000Z",formattedDate:"December 8, 2018",tags:[{label:"Challenges",permalink:"/tags/challenges"},{label:"Advent",permalink:"/tags/advent"},{label:"C#",permalink:"/tags/c"}],readingTime:.755,hasTruncateMarker:!0,authors:[],frontMatter:{title:"Day 8: Memory Maneuver",tags:["Challenges","Advent","C#"]},prevItem:{title:"Day 9: Marble Mania",permalink:"/2018/12/09/advent2018-09"},nextItem:{title:"Day 7: The Sum of Its Parts",permalink:"/2018/12/07/advent2018-07"}},c={authorsImageUrls:[]},u=[],s={toc:u},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"First problem where I used recursion. Traversing trees is just so much easier with recursion."),(0,a.kt)("p",null,"I created the tree by creating a recursive algorithm to create nodes and return the head node. With that, the first part of the problem is solved by summing the metadata for each node and adding to it the sum of the metadata of it's children recursively. This is easily done using LINQ's aggregate function (similar to reduce in LISP):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C#"},"public int MetadataSum()\n{\n    return children.Aggregate(metadata.Sum(), (acc, cur) => acc + cur.MetadataSum());\n}\n")),(0,a.kt)("p",null,"As for the second part of the problem, calculating the value is just a more complicated sum, which can also be solved using an aggregation:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C#"},"public int Value()\n{\n    return children.Any() ? metadata.Aggregate(0, (acc, md) => acc + ChildValue(md)) : metadata.Sum();\n}\n\nprivate int ChildValue(int childIndex)\n{\n    return childIndex > children.Count ? 0 : children[childIndex-1].Value();\n}\n")))}d.isMDXComponent=!0}}]);